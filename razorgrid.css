/*  RazorGrid v2
    https://www.miragecraft.com
    Licensed under MIT Open Source */

html {box-sizing:border-box} *,*:before,*:after {box-sizing:inherit}

i-row {
    --gutter:    0px;
    display:     flex;
    flex-wrap:   wrap;
}

i-col {
    flex-shrink: 1;
    flex-grow:   calc(var(--w) + 1);

    --width:     calc(99.999% * var(--w) - var(--gutter) * (1 - var(--w)));

    --x-auto:    calc((var(--w)) / (var(--w)));
    --x-shrink:  calc((var(--w) + 1) / (var(--w) + 1));

    width:       calc(var(--width) * var(--x-shrink)); 
    max-width:   calc(var(--width) * var(--x-shrink) * var(--x-auto));

    --x-full:    calc((var(--w) - 1) / (var(--w) - 1));
    --offset:    calc(99.999% * var(--o) - var(--gutter) * (1 - var(--o)) + var(--gutter) * var(--x-full));
 
    margin-inline-start: var(--offset);

    --full-1:    max((var(--w) - 1) * (var(--w) - 1) * -10000 + 1, 0);
    --full-0:    min((var(--w) - 1) * (var(--w) - 1) *  10000,     1);
    
    --ord:       calc(var(--v-order, var(--order, 0)) * var(--full-1) + var(--order, 0) * var(--full-0));
    order:       var(--ord);
}

i-col + i-col {
    --first-0:     min(var(--ord) + 1, 1);

    margin-inline-start: calc(var(--offset) + var(--gutter) * var(--first-0));
    margin-inline-end:   calc(var(--gutter) * var(--x-full) * var(--o-first));

    --full-not-0:  max(var(--w) - 0.999, 0);
    --o-full:      calc(var(--full-not-0) / var(--full-not-0));

    --x-first:     calc((var(--ord) + 1) / (var(--ord) + 1));

    --first-not-0: min(var(--ord), 0);
    --o-first:     calc(var(--first-not-0) / var(--first-not-0));

    margin-block-start:  calc(var(--v-gutter, var(--gutter)) * var(--o-full) * var(--x-first));
    margin-block-end:    calc(var(--v-gutter, var(--gutter)) * var(--o-full) * var(--o-first));
}

i-col > *:first-child {margin-block-start: 0!important}
i-col > *:last-child  {margin-block-end:   0!important}

/* reset */
i-row, [lock] {
    /* width & offset applies to bigger sizes */
    --s-span: initial; --so-span: initial;
    --m-span: initial; --mo-span: initial;
    --l-span: initial; --lo-offset: initial;

    --s-offset: initial; --so-offset: initial;
    --m-offset: initial; --mo-offset: initial;
    --l-offset: initial; --lo-offset: initial;

    --order:initial;     --v-order:initial;
}
/* small */
i-col {
    --w:   var(--so-span,   var(--s-span,   0));
    --o:   var(--so-offset, var(--s-offset, 0));
}

/* medium */
@media only screen and (min-width: 640px) {
    i-col {
        --w:   var(--mo-span,   var(--m-span,   var(--s-span,   0)));
        --o:   var(--mo-offset, var(--m-offset, var(--s-offset, 0)));
   }
}

/* large */
@media only screen and (min-width: 1024px) {
    i-col {
        --w:   var(--lo-span,   var(--l-span,   var(--m-span,   var(--s-span, 0))));
        --o:   var(--lo-offset, var(--l-offset, var(--m-offset, var(--s-offset, 0))));
    }
}

/* stack */
i-col i-row {--mo-span:1}
i-row {--so-span:1}